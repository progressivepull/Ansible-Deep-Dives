# 2.5 Command Structure

The basic syntax for an ad-hoc command is:
``` bash
ansible [pattern] -m [module] -a "[module options]" [optional flags]
```

* **[pattern]:** Specifies the target hosts or groups from your Ansible inventory (e.g., all, webservers, host1).
* **-m [module]:** Specifies the Ansible module to use (e.g., ping, shell, apt, yum, copy). If omitted, it defaults to the command module.
* **-a "[module options]":** Provides arguments to the specified module.
* **[optional flags]:** Modifiers like -b (become root/sudo), -K (ask for a privilege escalation password), or -u (specify a remote user). 

| Task | Command Example |	Explanation |
|------------------------------------|---------------------------------------|----------------------------------------------|
| **Check connectivity** |	ansible all -m ping	| Verifies managed nodes are reachable and Python is functional. |
| **Run shell command** |	ansible all -m shell -a "uptime" | 	Executes a command through the remote shell (e.g., /bin/sh). |
| **Copy a file** |ansible webservers -m copy -a "src=/tmp/file dest=/etc/file"	| Transfers a local file to a specific host group. |
| **Manage packages** |	ansible db -m yum -a "name=vim state=absent" -b		| Removes a package using root privileges (-b for become). |
| **Manage services** |	ansible all -m service -a "name=httpd state=restarted" -b |  Restarts a specific service on all hosts. |
| **Gather system facts** |	ansible host1 -m setup |  Retrieves detailed hardware and software metadata from a host. |
| **Create directory** |	ansible all -m file -a "dest=/path/dir state=directory mode=755" -b	| Creates a directory with defined permissions. |

# Note

## uptime

The uptime command in Linux provides a quick, one-line summary of how long the system has been running, current user activity, and system load.

#### Basic Usage
Running the command by itself displays the default output:

``` bash
uptime
```

#### Output Example:           
14:30:05 up 15 days, 4:22, 2 users, load average: 0.15, 0.08, 0.10



## [Context](./../context.md)